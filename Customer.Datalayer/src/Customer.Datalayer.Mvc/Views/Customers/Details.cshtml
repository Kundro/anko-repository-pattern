@model Customer.Datalayer.BusinessEntities.Customers

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
	<h4>Customers</h4>
	<hr />
	<dl class="dl-horizontal">
		<dt>
			@Html.DisplayNameFor(model => model.CustomerID)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.CustomerID)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.FirstName)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.FirstName)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.LastName)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.LastName)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.PhoneNumber)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.PhoneNumber)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.Email)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.Email)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.Notes)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.Notes)
		</dd>

		<dt>
			@Html.DisplayNameFor(model => model.TotalPurchasesAmount)
		</dt>

		<dd>
			@Html.DisplayFor(model => model.TotalPurchasesAmount)
		</dd>
		<dt>
			Addresses
		</dt>
		<dd>
			@if (ViewBag.Check)
			{
				<table class="table">
					<tr>
						<th>
							Address ID
						</th>
						<th>
							Address line
						</th>
						<th>
							Address line 2
						</th>
						<th>
							Address type
						</th>
						<th>
							City
						</th>
						<th>
							Postal code
						</th>
						<th>
							State
						</th>
						<th>
							Country
						</th>

						<th></th>
					</tr>
					@foreach (var item in ViewBag.AllAddresses)
					{
						if (item.CustomerID == Model.CustomerID)
						{
							<tr>
								<td>
									@item.AddressID
								</td>
								<td>
									@item.AddressLine
								</td>
								<td>
									@item.AddressLine2
								</td>
								<td>
									@item.AddressType
								</td>
								<td>
									@item.City
								</td>
								<td>
									@item.PostalCode
								</td>
								<td>
									@item.StateName
								</td>
								<td>
									@item.Country
								</td>
								<td>
									@Html.ActionLink("Edit", "Edit", new { id = item.AddressID }) |
									@Html.ActionLink("Details", "Details", new { id = item.AddressID }) |
									@Html.ActionLink("Delete", "Delete", new { id = item.AddressID })
								</td>
							</tr>
						}
					}
				</table>
			}
			else
			{
				<p>No addresses</p>
			}
			<p>
				@Html.ActionLink("Edit", "Edit", new { id = Model.CustomerID }) |
				@Html.ActionLink("Back to List", "Index")
			</p>

		</dd>
	</dl
></div>